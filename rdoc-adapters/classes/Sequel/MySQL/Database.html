<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
  <head>
    <title>Sequel::MySQL::Database</title>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
    <link href='../../../css/style.css' media='screen' rel='stylesheet' type='text/css'>
    <script type='text/javascript'>
      //<![CDATA[
        function popupCode(url) {
          window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
        }
        
        function toggleCode(id) {
          var code = document.getElementById(id)
        
          code.style.display = code.style.display != 'block' ? 'block' : 'none'
          return true
        }
        
        // Make codeblocks hidden by default
        document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
      //]]>
    </script>
  </head>
  <body class='page'>
    <div class='class' id='wrapper'>
      <div class='header'>
        <h1 class='name'>
          <span class='type'>class</span>
          Sequel::MySQL::Database
        </h1>
        <ol class='paths'>
          <li>
            <a target="docwin" href="../../../files/lib/sequel/adapters/mysql_rb.html">lib/sequel/adapters/mysql.rb</a>
          </li>
        </ol>
        <div class='parent'>
          Parent:
          <strong><a target="docwin" href="../MySQL.html">MySQL</a></strong>
        </div>
      </div>
      <div id='content'>
        <div id='text'>
          <div id='description'>
            
            <p><a href="Database.html">Database</a> class for <a
            href="../MySQL.html">MySQL</a> databases used with <a
            href="../../Sequel.html">Sequel</a>.</p>
          </div>
          <div id='method-list'>
            <h2>Methods</h2>
            <h3>Public Instance</h3>
            <ol>
              <li><a target="docwin" href="#method-i-connect">connect</a></li>
              <li><a target="docwin" href="#attribute-i-conversion_procs">conversion_procs</a></li>
              <li><a target="docwin" href="#attribute-i-convert_invalid_date_time">convert_invalid_date_time</a></li>
              <li><a target="docwin" href="#method-i-convert_invalid_date_time-3D">convert_invalid_date_time=</a></li>
              <li><a target="docwin" href="#attribute-i-convert_tinyint_to_bool">convert_tinyint_to_bool</a></li>
              <li><a target="docwin" href="#method-i-convert_tinyint_to_bool-3D">convert_tinyint_to_bool=</a></li>
              <li><a target="docwin" href="#method-i-disconnect_connection">disconnect_connection</a></li>
              <li><a target="docwin" href="#method-i-execute_dui">execute_dui</a></li>
              <li><a target="docwin" href="#method-i-execute_insert">execute_insert</a></li>
              <li><a target="docwin" href="#method-i-server_version">server_version</a></li>
            </ol>
          </div>
          <div id='context'>
            <div id='includes'>
              <h2>Included modules</h2>
              <ol>
                <li><a target="docwin" href="DatabaseMethods.html">Sequel::MySQL::DatabaseMethods</a></li>
                <li><a target="docwin" href="PreparedStatements/DatabaseMethods.html">Sequel::MySQL::PreparedStatements::DatabaseMethods</a></li>
              </ol>
            </div>
          </div>
          <div id='section'>
            <div id='constants-list'>
              <h2>Constants</h2>
              <div class='name-list'>
                <table summary='Constants'>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>AFFECTED_ROWS_RE</td>
                    <td>=</td>
                    <td class='context-item-value'>/Rows matched:\s+(\d+)\s+Changed:\s+\d+\s+Warnings:\s+\d+/.freeze</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'>
                      
                      <p>Regular expression used for getting accurate number of rows matched by an
                      update statement.</p>
                    </td>
                  </tr>
                </table>
              </div>
            </div>
            <div id='attribute-list'>
              <h2 class='section-bar'>Attributes</h2>
              <div class='name-list'>
                <table>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>
                      <a name='attribute-i-conversion_procs'>conversion_procs</a>
                    </td>
                    <td class='context-item-value'>[R]</td>
                    <td class='context-item-desc'>
                      
                      <p>Hash of conversion procs for the current database</p>
                    </td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>
                      <a name='attribute-i-convert_invalid_date_time'>convert_invalid_date_time</a>
                    </td>
                    <td class='context-item-value'>[R]</td>
                    <td class='context-item-desc'>
                      
                      <p>By default, <a href="../../Sequel.html">Sequel</a> raises an exception if
                      in invalid date or time is used. However, if this is set to nil or :nil,
                      the adapter treats dates like 0000-00-00 and times like 838:00:00 as nil
                      values.  If set to :string, it returns the strings as is.</p>
                    </td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>
                      <a name='attribute-i-convert_tinyint_to_bool'>convert_tinyint_to_bool</a>
                    </td>
                    <td class='context-item-value'>[R]</td>
                    <td class='context-item-desc'>
                      
                      <p>Whether to convert tinyint columns to bool for the current database</p>
                    </td>
                  </tr>
                </table>
              </div>
            </div>
            <div id='methods'>
              <h2>Public Instance methods</h2>
              <div class='method public-instance' id='method-method-i-connect'>
                <a name='method-i-connect'></a>
                <div class='synopsis'>
                  <span class='name'>connect</span>
                  <span class='arguments'>(server)</span>
                </div>
                <div class='description'>
                  
                  <p>Connect to the database.  In addition to the usual database options, the
                  following options have effect:</p>
                  <ul><li>
                  <p>:auto_is_null - Set to true to use <a href="../MySQL.html">MySQL</a>
                  default behavior of having a filter for an autoincrement column equals NULL
                  to return the last inserted row.</p>
                  </li><li>
                  <p>:charset - Same as :encoding (:encoding takes precendence)</p>
                  </li><li>
                  <p>:compress - Set to false to not compress results from the server</p>
                  </li><li>
                  <p>:config_default_group - The default group to read from the in the <a
                  href="../MySQL.html">MySQL</a> config file.</p>
                  </li><li>
                  <p>:config_local_infile - If provided, sets the Mysql::OPT_LOCAL_INFILE option
                  on the connection with the given value.</p>
                  </li><li>
                  <p>:connect_timeout - Set the timeout in seconds before a connection attempt
                  is abandoned.</p>
                  </li><li>
                  <p>:encoding - Set all the related character sets for this connection
                  (connection, client, database, server, and results).</p>
                  </li><li>
                  <p>:read_timeout - Set the timeout in seconds for reading back results to a
                  query.</p>
                  </li><li>
                  <p>:socket - Use a unix socket file instead of connecting via TCP/IP.</p>
                  </li><li>
                  <p>:timeout - Set the timeout in seconds before the server will disconnect
                  this connection (a.k.a @@wait_timeout).</p>
                  </li></ul>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-connect-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-connect-source'><span class="ruby-comment"># File lib/sequel/adapters/mysql.rb, line 83</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">connect</span>(<span class="ruby-identifier">server</span>)&#x000A;  <span class="ruby-identifier">opts</span> = <span class="ruby-identifier">server_opts</span>(<span class="ruby-identifier">server</span>)&#x000A;  <span class="ruby-identifier">conn</span> = <span class="ruby-constant">Mysql</span>.<span class="ruby-identifier">init</span>&#x000A;  <span class="ruby-identifier">conn</span>.<span class="ruby-identifier">options</span>(<span class="ruby-constant">Mysql</span><span class="ruby-operator">::</span><span class="ruby-constant">READ_DEFAULT_GROUP</span>, <span class="ruby-identifier">opts</span>[<span class="ruby-value">:config_default_group</span>] <span class="ruby-operator">||</span> <span class="ruby-string">&quot;client&quot;</span>)&#x000A;  <span class="ruby-identifier">conn</span>.<span class="ruby-identifier">options</span>(<span class="ruby-constant">Mysql</span><span class="ruby-operator">::</span><span class="ruby-constant">OPT_LOCAL_INFILE</span>, <span class="ruby-identifier">opts</span>[<span class="ruby-value">:config_local_infile</span>]) <span class="ruby-keyword">if</span> <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-value">:config_local_infile</span>)&#x000A;  <span class="ruby-identifier">conn</span>.<span class="ruby-identifier">ssl_set</span>(<span class="ruby-identifier">opts</span>[<span class="ruby-value">:sslkey</span>], <span class="ruby-identifier">opts</span>[<span class="ruby-value">:sslcert</span>], <span class="ruby-identifier">opts</span>[<span class="ruby-value">:sslca</span>], <span class="ruby-identifier">opts</span>[<span class="ruby-value">:sslcapath</span>], <span class="ruby-identifier">opts</span>[<span class="ruby-value">:sslcipher</span>]) <span class="ruby-keyword">if</span> <span class="ruby-identifier">opts</span>[<span class="ruby-value">:sslca</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">opts</span>[<span class="ruby-value">:sslkey</span>]&#x000A;  <span class="ruby-keyword">if</span> <span class="ruby-identifier">encoding</span> = <span class="ruby-identifier">opts</span>[<span class="ruby-value">:encoding</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">opts</span>[<span class="ruby-value">:charset</span>]&#x000A;    <span class="ruby-comment"># Set encoding before connecting so that the mysql driver knows what</span>&#x000A;    <span class="ruby-comment"># encoding we want to use, but this can be overridden by READ_DEFAULT_GROUP.</span>&#x000A;    <span class="ruby-identifier">conn</span>.<span class="ruby-identifier">options</span>(<span class="ruby-constant">Mysql</span><span class="ruby-operator">::</span><span class="ruby-constant">SET_CHARSET_NAME</span>, <span class="ruby-identifier">encoding</span>)&#x000A;  <span class="ruby-keyword">end</span>&#x000A;  <span class="ruby-keyword">if</span> <span class="ruby-identifier">read_timeout</span> = <span class="ruby-identifier">opts</span>[<span class="ruby-value">:read_timeout</span>] <span class="ruby-keyword">and</span> <span class="ruby-keyword">defined?</span> <span class="ruby-constant">Mysql</span><span class="ruby-operator">::</span><span class="ruby-constant">OPT_READ_TIMEOUT</span>&#x000A;    <span class="ruby-identifier">conn</span>.<span class="ruby-identifier">options</span>(<span class="ruby-constant">Mysql</span><span class="ruby-operator">::</span><span class="ruby-constant">OPT_READ_TIMEOUT</span>, <span class="ruby-identifier">read_timeout</span>)&#x000A;  <span class="ruby-keyword">end</span>&#x000A;  <span class="ruby-keyword">if</span> <span class="ruby-identifier">connect_timeout</span> = <span class="ruby-identifier">opts</span>[<span class="ruby-value">:connect_timeout</span>] <span class="ruby-keyword">and</span> <span class="ruby-keyword">defined?</span> <span class="ruby-constant">Mysql</span><span class="ruby-operator">::</span><span class="ruby-constant">OPT_CONNECT_TIMEOUT</span>&#x000A;    <span class="ruby-identifier">conn</span>.<span class="ruby-identifier">options</span>(<span class="ruby-constant">Mysql</span><span class="ruby-operator">::</span><span class="ruby-constant">OPT_CONNECT_TIMEOUT</span>, <span class="ruby-identifier">connect_timeout</span>)&#x000A;  <span class="ruby-keyword">end</span>&#x000A;  <span class="ruby-identifier">conn</span>.<span class="ruby-identifier">real_connect</span>(&#x000A;    <span class="ruby-identifier">opts</span>[<span class="ruby-value">:host</span>] <span class="ruby-operator">||</span> <span class="ruby-string">'localhost'</span>,&#x000A;    <span class="ruby-identifier">opts</span>[<span class="ruby-value">:user</span>],&#x000A;    <span class="ruby-identifier">opts</span>[<span class="ruby-value">:password</span>],&#x000A;    <span class="ruby-identifier">opts</span>[<span class="ruby-value">:database</span>],&#x000A;    (<span class="ruby-identifier">opts</span>[<span class="ruby-value">:port</span>].<span class="ruby-identifier">to_i</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">opts</span>[<span class="ruby-value">:port</span>]),&#x000A;    <span class="ruby-identifier">opts</span>[<span class="ruby-value">:socket</span>],&#x000A;    <span class="ruby-constant">Mysql</span><span class="ruby-operator">::</span><span class="ruby-constant">CLIENT_MULTI_RESULTS</span> <span class="ruby-operator">+</span>&#x000A;    <span class="ruby-constant">Mysql</span><span class="ruby-operator">::</span><span class="ruby-constant">CLIENT_MULTI_STATEMENTS</span> <span class="ruby-operator">+</span>&#x000A;    (<span class="ruby-identifier">opts</span>[<span class="ruby-value">:compress</span>] <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span> <span class="ruby-operator">?</span> <span class="ruby-value">0</span> <span class="ruby-operator">:</span> <span class="ruby-constant">Mysql</span><span class="ruby-operator">::</span><span class="ruby-constant">CLIENT_COMPRESS</span>)&#x000A;  )&#x000A;  <span class="ruby-identifier">sqls</span> = <span class="ruby-identifier">mysql_connection_setting_sqls</span>&#x000A;&#x000A;  <span class="ruby-comment"># Set encoding a slightly different way after connecting,</span>&#x000A;  <span class="ruby-comment"># in case the READ_DEFAULT_GROUP overrode the provided encoding.</span>&#x000A;  <span class="ruby-comment"># Doesn't work across implicit reconnects, but Sequel doesn't turn on</span>&#x000A;  <span class="ruby-comment"># that feature.</span>&#x000A;  <span class="ruby-identifier">sqls</span>.<span class="ruby-identifier">unshift</span>(<span class="ruby-node">&quot;SET NAMES #{literal(encoding.to_s)}&quot;</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">encoding</span>&#x000A;&#x000A;  <span class="ruby-identifier">sqls</span>.<span class="ruby-identifier">each</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">sql</span><span class="ruby-operator">|</span> <span class="ruby-identifier">log_yield</span>(<span class="ruby-identifier">sql</span>){<span class="ruby-identifier">conn</span>.<span class="ruby-identifier">query</span>(<span class="ruby-identifier">sql</span>)}}&#x000A;&#x000A;  <span class="ruby-identifier">add_prepared_statements_cache</span>(<span class="ruby-identifier">conn</span>)&#x000A;  <span class="ruby-identifier">conn</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-convert_invalid_date_time-3D'>
                <a name='method-i-convert_invalid_date_time-3D'></a>
                <div class='synopsis'>
                  <span class='name'>convert_invalid_date_time=</span>
                  <span class='arguments'>(v)</span>
                </div>
                <div class='description'>
                  
                  <p>Modify the type translators for the date, time, and timestamp types
                  depending on the value given.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-convert_invalid_date_time-3D-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-convert_invalid_date_time-3D-source'><span class="ruby-comment"># File lib/sequel/adapters/mysql.rb, line 134</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">convert_invalid_date_time=</span>(<span class="ruby-identifier">v</span>)&#x000A;  <span class="ruby-identifier">m0</span> = <span class="ruby-operator">::</span><span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">method</span>(<span class="ruby-value">:string_to_time</span>)&#x000A;  <span class="ruby-ivar">@conversion_procs</span>[<span class="ruby-value">11</span>] = (<span class="ruby-identifier">v</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">?</span>  <span class="ruby-identifier">lambda</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">convert_date_time</span>(<span class="ruby-identifier">v</span>, &amp;<span class="ruby-identifier">m0</span>)} <span class="ruby-operator">:</span> <span class="ruby-identifier">m0</span>&#x000A;  <span class="ruby-identifier">m1</span> = <span class="ruby-operator">::</span><span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">method</span>(<span class="ruby-value">:string_to_date</span>) &#x000A;  <span class="ruby-identifier">m</span> = (<span class="ruby-identifier">v</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">lambda</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">convert_date_time</span>(<span class="ruby-identifier">v</span>, &amp;<span class="ruby-identifier">m1</span>)} <span class="ruby-operator">:</span> <span class="ruby-identifier">m1</span>&#x000A;  [<span class="ruby-value">10</span>, <span class="ruby-value">14</span>].<span class="ruby-identifier">each</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-ivar">@conversion_procs</span>[<span class="ruby-identifier">i</span>] = <span class="ruby-identifier">m</span>}&#x000A;  <span class="ruby-identifier">m2</span> = <span class="ruby-identifier">method</span>(<span class="ruby-value">:to_application_timestamp</span>)&#x000A;  <span class="ruby-identifier">m</span> = (<span class="ruby-identifier">v</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">lambda</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">convert_date_time</span>(<span class="ruby-identifier">v</span>, &amp;<span class="ruby-identifier">m2</span>)} <span class="ruby-operator">:</span> <span class="ruby-identifier">m2</span>&#x000A;  [<span class="ruby-value">7</span>, <span class="ruby-value">12</span>].<span class="ruby-identifier">each</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-ivar">@conversion_procs</span>[<span class="ruby-identifier">i</span>] = <span class="ruby-identifier">m</span>}&#x000A;  <span class="ruby-ivar">@convert_invalid_date_time</span> = <span class="ruby-identifier">v</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-convert_tinyint_to_bool-3D'>
                <a name='method-i-convert_tinyint_to_bool-3D'></a>
                <div class='synopsis'>
                  <span class='name'>convert_tinyint_to_bool=</span>
                  <span class='arguments'>(v)</span>
                </div>
                <div class='description'>
                  
                  <p>Modify the type translator used for the tinyint type based on the value
                  given.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-convert_tinyint_to_bool-3D-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-convert_tinyint_to_bool-3D-source'><span class="ruby-comment"># File lib/sequel/adapters/mysql.rb, line 148</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">convert_tinyint_to_bool=</span>(<span class="ruby-identifier">v</span>)&#x000A;  <span class="ruby-ivar">@conversion_procs</span>[<span class="ruby-value">1</span>] = <span class="ruby-constant">TYPE_TRANSLATOR</span>.<span class="ruby-identifier">method</span>(<span class="ruby-identifier">v</span> <span class="ruby-operator">?</span> <span class="ruby-value">:boolean</span> <span class="ruby-operator">:</span> <span class="ruby-value">:integer</span>)&#x000A;  <span class="ruby-ivar">@convert_tinyint_to_bool</span> = <span class="ruby-identifier">v</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-disconnect_connection'>
                <a name='method-i-disconnect_connection'></a>
                <div class='synopsis'>
                  <span class='name'>disconnect_connection</span>
                  <span class='arguments'>(c)</span>
                </div>
                <div class='description'>
                  
                  <p>Closes given database connection.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-disconnect_connection-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-disconnect_connection-source'><span class="ruby-comment"># File lib/sequel/adapters/mysql.rb, line 126</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">disconnect_connection</span>(<span class="ruby-identifier">c</span>)&#x000A;  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">close</span>&#x000A;<span class="ruby-keyword">rescue</span> <span class="ruby-constant">Mysql</span><span class="ruby-operator">::</span><span class="ruby-constant">Error</span>&#x000A;  <span class="ruby-keyword">nil</span>&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-execute_dui'>
                <a name='method-i-execute_dui'></a>
                <div class='synopsis'>
                  <span class='name'>execute_dui</span>
                  <span class='arguments'>(sql, opts=OPTS)</span>
                </div>
                <div class='description'>
                  
                  <p>Return the number of matched rows when executing a delete/update statement.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-execute_dui-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-execute_dui-source'><span class="ruby-comment"># File lib/sequel/adapters/mysql.rb, line 154</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">execute_dui</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">opts</span>=<span class="ruby-constant">OPTS</span>)&#x000A;  <span class="ruby-identifier">execute</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">opts</span>){<span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-keyword">return</span> <span class="ruby-identifier">affected_rows</span>(<span class="ruby-identifier">c</span>)}&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-execute_insert'>
                <a name='method-i-execute_insert'></a>
                <div class='synopsis'>
                  <span class='name'>execute_insert</span>
                  <span class='arguments'>(sql, opts=OPTS)</span>
                </div>
                <div class='description'>
                  
                  <p>Return the last inserted id when executing an insert statement.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-execute_insert-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-execute_insert-source'><span class="ruby-comment"># File lib/sequel/adapters/mysql.rb, line 159</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">execute_insert</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">opts</span>=<span class="ruby-constant">OPTS</span>)&#x000A;  <span class="ruby-identifier">execute</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">opts</span>){<span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-keyword">return</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">insert_id</span>}&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-method-i-server_version'>
                <a name='method-i-server_version'></a>
                <div class='synopsis'>
                  <span class='name'>server_version</span>
                  <span class='arguments'>(server=nil)</span>
                </div>
                <div class='description'>
                  
                  <p>Return the version of the <a href="../MySQL.html">MySQL</a> server two
                  which we are connecting.</p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('method-i-server_version-source'); return false">
                    [show source]
                  </a>
                  <pre id='method-i-server_version-source'><span class="ruby-comment"># File lib/sequel/adapters/mysql.rb, line 164</span>&#x000A;<span class="ruby-keyword">def</span> <span class="ruby-identifier">server_version</span>(<span class="ruby-identifier">server</span>=<span class="ruby-keyword">nil</span>)&#x000A;  <span class="ruby-ivar">@server_version</span> <span class="ruby-operator">||=</span> (<span class="ruby-identifier">synchronize</span>(<span class="ruby-identifier">server</span>){<span class="ruby-operator">|</span><span class="ruby-identifier">conn</span><span class="ruby-operator">|</span> <span class="ruby-identifier">conn</span>.<span class="ruby-identifier">server_version</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">conn</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:server_version</span>)} <span class="ruby-operator">||</span> <span class="ruby-keyword">super</span>)&#x000A;<span class="ruby-keyword">end</span></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id='footer-push'></div>
    </div>
    <div id='footer'>
      <a target="docwin" href="http://github.com/mislav/hanna/tree/master"><strong>Hanna</strong> RDoc template</a>
    </div>
  </body>
</html>
