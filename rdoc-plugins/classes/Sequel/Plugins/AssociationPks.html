<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
  <head>
    <title>Sequel::Plugins::AssociationPks</title>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
    <link href='../../../css/style.css' media='screen' rel='stylesheet' type='text/css'>
    <script type='text/javascript'>
      //<![CDATA[
        function popupCode(url) {
          window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
        }
        
        function toggleCode(id) {
          var code = document.getElementById(id)
        
          code.style.display = code.style.display != 'block' ? 'block' : 'none'
          return true
        }
        
        // Make codeblocks hidden by default
        document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
      //]]>
    </script>
  </head>
  <body class='page'>
    <div class='class' id='wrapper'>
      <div class='header'>
        <h1 class='name'>
          <span class='type'>module</span>
          Sequel::Plugins::AssociationPks
        </h1>
        <ol class='paths'>
          <li>
            <a target="docwin" href="../../../files/lib/sequel/plugins/association_pks_rb.html">lib/sequel/plugins/association_pks.rb</a>
          </li>
        </ol>
        <div class='parent'>
          Parent:
          <strong><a target="docwin" href="../Plugins.html">Plugins</a></strong>
        </div>
      </div>
      <div id='content'>
        <div id='text'>
          <div id='description'>
            
            <p>The association_pks plugin adds the association_pks and association_pks=
            instance methods to the model class for each association added.  These
            methods allow for easily returning the primary keys of the associated
            objects, and easily modifying the associated objects to set the primary
            keys to just the ones given:</p>
            
            <pre>Artist.one_to_many :albums&#x000A;artist = Artist[1]&#x000A;artist.album_pks # [1, 2, 3]&#x000A;artist.album_pks = [2, 4]&#x000A;artist.album_pks # [2, 4]</pre>
            
            <p>Note that it uses the singular form of the association name. Also note that
            the setter both associates to new primary keys not in the assocation and
            disassociates from primary keys not provided to the method.</p>
            
            <p>This plugin makes modifications directly to the underlying tables, it does
            not create or return any model objects, and therefore does not call any
            callbacks.  If you have any association callbacks, you probably should not
            use the setter methods.</p>
            
            <p>Usage:</p>
            
            <pre># Make all model subclass *_to_many associations have association_pks&#x000A;# methods (called before loading subclasses)&#x000A;Sequel::Model.plugin :association_pks&#x000A;# Make the Album *_to_many associations have association_pks&#x000A;# methods (called before the association methods)&#x000A;Album.plugin :association_pks</pre>
          </div>
          <div id='context'>
          </div>
          <div id='class-list'>
            <h2>Classes and Modules</h2>
            <ol>
              <li><a target="docwin" href="AssociationPks/ClassMethods.html">Sequel::Plugins::AssociationPks::ClassMethods</a></li>
              <li><a target="docwin" href="AssociationPks/InstanceMethods.html">Sequel::Plugins::AssociationPks::InstanceMethods</a></li>
            </ol>
          </div>
          <div id='section'>
          </div>
        </div>
      </div>
      <div id='footer-push'></div>
    </div>
    <div id='footer'>
      <a target="docwin" href="http://github.com/mislav/hanna/tree/master"><strong>Hanna</strong> RDoc template</a>
    </div>
  </body>
</html>
