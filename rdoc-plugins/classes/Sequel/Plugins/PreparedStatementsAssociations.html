<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
  <head>
    <title>Sequel::Plugins::PreparedStatementsAssociations</title>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
    <link href='../../../css/style.css' media='screen' rel='stylesheet' type='text/css'>
    <script type='text/javascript'>
      //<![CDATA[
        function popupCode(url) {
          window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
        }
        
        function toggleCode(id) {
          var code = document.getElementById(id)
        
          code.style.display = code.style.display != 'block' ? 'block' : 'none'
          return true
        }
        
        // Make codeblocks hidden by default
        document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
      //]]>
    </script>
  </head>
  <body class='page'>
    <div class='class' id='wrapper'>
      <div class='header'>
        <h1 class='name'>
          <span class='type'>module</span>
          Sequel::Plugins::PreparedStatementsAssociations
        </h1>
        <ol class='paths'>
          <li>
            <a target="docwin" href="../../../files/lib/sequel/plugins/prepared_statements_associations_rb.html">lib/sequel/plugins/prepared_statements_associations.rb</a>
          </li>
        </ol>
        <div class='parent'>
          Parent:
          <strong><a target="docwin" href="../Plugins.html">Plugins</a></strong>
        </div>
      </div>
      <div id='content'>
        <div id='text'>
          <div id='description'>
            
            <p>The prepared_statements_associations plugin modifies the regular
            association load method to use a cached prepared statement to load the
            associations. It will not work on all associations, but it should skip the
            use of prepared statements for associations where it will not work,
            assuming you load the plugin before defining the associations.</p>
            
            <p>Usage:</p>
            
            <pre class="ruby"><span class="ruby-comment"># Make all model subclasses more safe when using prepared statements (called before loading subclasses)</span>&#x000A;<span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">Model</span>.<span class="ruby-identifier">plugin</span> :<span class="ruby-identifier">prepared_statements_associations</span>&#x000A;&#x000A;<span class="ruby-comment"># Make the Album class more safe when using prepared statements</span>&#x000A;<span class="ruby-constant">Album</span>.<span class="ruby-identifier">plugin</span> :<span class="ruby-identifier">prepared_statements_associations</span></pre>
          </div>
          <div id='context'>
          </div>
          <div id='class-list'>
            <h2>Classes and Modules</h2>
            <ol>
              <li><a target="docwin" href="PreparedStatementsAssociations/ClassMethods.html">Sequel::Plugins::PreparedStatementsAssociations::ClassMethods</a></li>
              <li><a target="docwin" href="PreparedStatementsAssociations/InstanceMethods.html">Sequel::Plugins::PreparedStatementsAssociations::InstanceMethods</a></li>
            </ol>
          </div>
          <div id='section'>
            <div id='constants-list'>
              <h2>Constants</h2>
              <div class='name-list'>
                <table summary='Constants'>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>MUTEX</td>
                    <td>=</td>
                    <td class='context-item-value'>Mutex.new</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'>
                      
                      <p>Synchronize access to the integer sequence so that no two calls get the
                      same integer.</p>
                    </td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>NEXT</td>
                    <td>=</td>
                    <td class='context-item-value'>lambda{MUTEX.synchronize{i += 1}}</td>
                    <td>&nbsp;</td>
                    <td class='context-item-desc'>
                      
                      <p>This plugin names prepared statements uniquely using an integer sequence,
                      this lambda returns the next integer to use.</p>
                    </td>
                  </tr>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id='footer-push'></div>
    </div>
    <div id='footer'>
      <a target="docwin" href="http://github.com/mislav/hanna/tree/master"><strong>Hanna</strong> RDoc template</a>
    </div>
  </body>
</html>
