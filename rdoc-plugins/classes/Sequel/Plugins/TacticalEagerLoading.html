<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
  <head>
    <title>Sequel::Plugins::TacticalEagerLoading</title>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
    <link href='../../../css/style.css' media='screen' rel='stylesheet' type='text/css'>
    <script type='text/javascript'>
      //<![CDATA[
        function popupCode(url) {
          window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
        }
        
        function toggleCode(id) {
          var code = document.getElementById(id)
        
          code.style.display = code.style.display != 'block' ? 'block' : 'none'
          return true
        }
        
        // Make codeblocks hidden by default
        document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
      //]]>
    </script>
  </head>
  <body class='page'>
    <div class='class' id='wrapper'>
      <div class='header'>
        <h1 class='name'>
          <span class='type'>module</span>
          Sequel::Plugins::TacticalEagerLoading
        </h1>
        <ol class='paths'>
          <li>
            <a target="docwin" href="../../../files/lib/sequel/plugins/tactical_eager_loading_rb.html">lib/sequel/plugins/tactical_eager_loading.rb</a>
          </li>
        </ol>
        <div class='parent'>
          Parent:
          <strong><a target="docwin" href="../Plugins.html">Plugins</a></strong>
        </div>
      </div>
      <div id='content'>
        <div id='text'>
          <div id='description'>
            
            <p>The tactical_eager_loading plugin allows you to eagerly load an association
            for all objects retrieved from the same dataset without calling eager on
            the dataset.  If you attempt to load associated objects for a record and
            the association for that object is currently not cached, it assumes you
            want to get the associated objects for all objects retrieved with the
            dataset that retrieved the current object.</p>
            
            <p>Tactical eager loading only takes affect if you retrieved the current
            object with Dataset#all, it doesnâ€™t work if you retrieved the current
            object with Dataset#each.</p>
            
            <p>Basically, this allows the following code to issue only two queries:</p>
            
            <pre class="ruby"><span class="ruby-constant">Album</span>.<span class="ruby-identifier">filter</span>{<span class="ruby-identifier">id</span><span class="ruby-operator">&lt;</span><span class="ruby-value">100</span>}.<span class="ruby-identifier">all</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span>&#x000A;  <span class="ruby-identifier">a</span>.<span class="ruby-identifier">artists</span>&#x000A;<span class="ruby-keyword">end</span></pre>
            
            <p>Usage:</p>
            
            <pre class="ruby"><span class="ruby-comment"># Make all model subclass instances use tactical eager loading (called before loading subclasses)</span>&#x000A;<span class="ruby-constant">Sequel</span><span class="ruby-operator">::</span><span class="ruby-constant">Model</span>.<span class="ruby-identifier">plugin</span> :<span class="ruby-identifier">tactical_eager_loading</span>&#x000A;&#x000A;<span class="ruby-comment"># Make the Album class use tactical eager loading</span>&#x000A;<span class="ruby-constant">Album</span>.<span class="ruby-identifier">plugin</span> :<span class="ruby-identifier">tactical_eager_loading</span></pre>
          </div>
          <div id='context'>
          </div>
          <div id='class-list'>
            <h2>Classes and Modules</h2>
            <ol>
              <li><a target="docwin" href="TacticalEagerLoading/DatasetMethods.html">Sequel::Plugins::TacticalEagerLoading::DatasetMethods</a></li>
              <li><a target="docwin" href="TacticalEagerLoading/InstanceMethods.html">Sequel::Plugins::TacticalEagerLoading::InstanceMethods</a></li>
            </ol>
          </div>
          <div id='section'>
          </div>
        </div>
      </div>
      <div id='footer-push'></div>
    </div>
    <div id='footer'>
      <a target="docwin" href="http://github.com/mislav/hanna/tree/master"><strong>Hanna</strong> RDoc template</a>
    </div>
  </body>
</html>
