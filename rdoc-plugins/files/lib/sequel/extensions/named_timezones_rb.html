<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
  <head>
    <title>named_timezones.rb</title>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
    <link href='../../../../css/style.css' media='screen' rel='stylesheet' type='text/css'>
    <script type='text/javascript'>
      //<![CDATA[
        function popupCode(url) {
          window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
        }
        
        function toggleCode(id) {
          var code = document.getElementById(id)
        
          code.style.display = code.style.display != 'block' ? 'block' : 'none'
          return true
        }
        
        // Make codeblocks hidden by default
        document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
      //]]>
    </script>
  </head>
  <body class='page'>
    <div class='file' id='wrapper'>
      <div class='header'>
        <h1 class='name'>named_timezones.rb</h1>
        <div class='paths'>
          lib/sequel/extensions/named_timezones.rb
        </div>
        <div class='last-update'>
          Last Update:
          <span class='datetime'>2013-11-08 08:08:17 -0500</span>
        </div>
      </div>
      <div id='content'>
        <div id='text'>
          <div id='description'>
            
            <p>Allows the use of named timezones via TZInfo (requires tzinfo). Forces the
            use of DateTime as Sequel’s datetime_class, since ruby’s Time class doesn’t
            support timezones other than local and UTC.</p>
            
            <p>This allows you to either pass strings or TZInfo::Timezone instance to
            Sequel.database_timezone=, application_timezone=, and typecast_timezone=. 
            If a string is passed, it is converted to a TZInfo::Timezone using
            TZInfo::Timezone.get.</p>
            
            <p>To load the extension:</p>
            
            <pre>Sequel.extension :named_timezones</pre>
            
            <p>Let’s say you have the database server in New York and the application
            server in Los Angeles.  For historical reasons, data is stored in local New
            York time, but the application server only services clients in Los Angeles,
            so you want to use New York time in the database and Los Angeles time in
            the application.  This is easily done via:</p>
            
            <pre>Sequel.database_timezone = 'America/New_York'&#x000A;Sequel.application_timezone = 'America/Los_Angeles'</pre>
            
            <p>Then, before data is stored in the database, it is converted to New York
            time.  When data is retrieved from the database, it is converted to Los
            Angeles time.</p>
            
            <p>If you are using database specific timezones, you may want to load this
            extension into the database in order to support similar API:</p>
            
            <pre>DB.extension :named_timezones&#x000A;DB.timezone = 'America/New_York'</pre>
            
            <p>Note that typecasting from the database timezone to the application
            timezone when fetching rows is dependent on the database adapter, and only
            works on adapters where <a
            href="../../../../classes/Sequel.html">Sequel</a> itself does the
            conversion. It should work on mysql, postgres, sqlite, ibmdb, and jdbc.</p>
          </div>
          <div id='context'>
            <div id='requires'>
              <h2>Required files</h2>
              <ol>
                <li>tzinfo</li>
              </ol>
            </div>
          </div>
        </div>
      </div>
      <div id='footer-push'></div>
    </div>
    <div id='footer'>
      <a target="docwin" href="http://github.com/mislav/hanna/tree/master"><strong>Hanna</strong> RDoc template</a>
    </div>
  </body>
</html>
