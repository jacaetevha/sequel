<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
  <head>
    <title>pg_range.rb</title>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
    <link href='../../../../css/style.css' media='screen' rel='stylesheet' type='text/css'>
    <script type='text/javascript'>
      //<![CDATA[
        function popupCode(url) {
          window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
        }
        
        function toggleCode(id) {
          var code = document.getElementById(id)
        
          code.style.display = code.style.display != 'block' ? 'block' : 'none'
          return true
        }
        
        // Make codeblocks hidden by default
        document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
      //]]>
    </script>
  </head>
  <body class='page'>
    <div class='file' id='wrapper'>
      <div class='header'>
        <h1 class='name'>pg_range.rb</h1>
        <div class='paths'>
          lib/sequel/extensions/pg_range.rb
        </div>
        <div class='last-update'>
          Last Update:
          <span class='datetime'>2013-11-08 08:08:17 -0500</span>
        </div>
      </div>
      <div id='content'>
        <div id='text'>
          <div id='description'>
            
            <p>The pg_range extension adds support for the PostgreSQL 9.2+ range types to
            <a href="../../../../classes/Sequel.html">Sequel</a>.  PostgreSQL range
            types are similar to ruby’s <a
            href="../../../../classes/Range.html">Range</a> class, representating an
            array of values.  However, they are more flexible than ruby’s ranges,
            allowing exclusive beginnings and endings (ruby’s range only allows
            exclusive endings), and unbounded beginnings and endings (which ruby’s
            range does not support).</p>
            
            <p>This extension integrates with Sequel’s native postgres adapter, so that
            when range type values are retrieved, they are parsed and returned as
            instances of <a
            href="../../../../classes/Sequel/Postgres/PGRange.html">Sequel::Postgres::PGRange</a>.
            PGRange mostly acts like a <a
            href="../../../../classes/Range.html">Range</a>, but it’s not a <a
            href="../../../../classes/Range.html">Range</a> as not all PostgreSQL range
            type values would be valid ruby ranges.  If the range type value you are
            using is a valid ruby range, you can call PGRange#to_range to get a <a
            href="../../../../classes/Range.html">Range</a>.  However, if you call
            PGRange#to_range on a range type value uses features that ruby’s <a
            href="../../../../classes/Range.html">Range</a> does not support, an
            exception will be raised.</p>
            
            <p>In addition to the parser, this extension comes with literalizers for both
            PGRange and <a href="../../../../classes/Range.html">Range</a> that use the
            standard <a href="../../../../classes/Sequel.html">Sequel</a>
            literalization callbacks, so they work on all adapters.</p>
            
            <p>To turn an existing <a href="../../../../classes/Range.html">Range</a> into
            a PGRange, use Sequel.pg_range:</p>
            
            <pre>Sequel.pg_range(range)</pre>
            
            <p>If you have loaded the <a
            href="../../../doc/core_extensions_rdoc.html">core_extensions extension</a>
            or you have loaded the core_refinements extension and have activated
            refinements for the file, you can also use <a
            href="../../../../classes/Range.html#method-i-pg_range">Range#pg_range</a>:</p>
            
            <pre>range.pg_range</pre>
            
            <p>You may want to specify a specific range type:</p>
            
            <pre>Sequel.pg_range(range, :daterange)&#x000A;range.pg_range(:daterange)</pre>
            
            <p>If you specify the range database type, <a
            href="../../../../classes/Sequel.html">Sequel</a> will automatically cast
            the value to that type when literalizing.</p>
            
            <p>If you would like to use range columns in your model objects, you probably
            want to modify the schema parsing/typecasting so that it recognizes and
            correctly handles the range type columns, which you can do by:</p>
            
            <pre>DB.extension :pg_range</pre>
            
            <p>If you are not using the native postgres adapter and are using range types
            as model column values you probably should use the pg_typecast_on_load
            plugin if the column values are returned as a string.</p>
            
            <p>This extension integrates with the pg_array extension.  If you plan to use
            arrays of range types, load the pg_array extension before the pg_range
            extension:</p>
            
            <pre>DB.extension :pg_array, :pg_range</pre>
          </div>
          <div id='context'>
            <div id='requires'>
              <h2>Required files</h2>
              <ol>
                <li>adapters/utils/pg_types</li>
              </ol>
            </div>
          </div>
        </div>
      </div>
      <div id='footer-push'></div>
    </div>
    <div id='footer'>
      <a target="docwin" href="http://github.com/mislav/hanna/tree/master"><strong>Hanna</strong> RDoc template</a>
    </div>
  </body>
</html>
